<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="boo-learner - An interactive course dependency visualizer and study planner">
    <meta name="theme-color" content="#6366f1">
    <title>boo-learner - Interactive Study Planner</title>
    
    <!-- D3.js Library -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Main Application Container -->
    <div id="app" class="app-container">
        
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">boo-learner</h1>
                <p class="app-subtitle">Interactive Study Planner</p>
            </div>
            
            <!-- View Mode Controls -->
            <nav class="view-controls" role="navigation" aria-label="View mode selection">
                <button 
                    id="view-graph" 
                    class="view-btn active" 
                    data-view="graph"
                    aria-label="Switch to graph view"
                    aria-pressed="true">
                    <span class="view-icon">üìä</span>
                    <span class="view-label">Graph</span>
                </button>
                <button 
                    id="view-timeline" 
                    class="view-btn" 
                    data-view="timeline"
                    aria-label="Switch to timeline view"
                    aria-pressed="false">
                    <span class="view-icon">üìÖ</span>
                    <span class="view-label">Timeline</span>
                </button>
                <button 
                    id="view-list" 
                    class="view-btn" 
                    data-view="list"
                    aria-label="Switch to list view"
                    aria-pressed="false">
                    <span class="view-icon">üìã</span>
                    <span class="view-label">List</span>
                </button>
            </nav>
            
            <!-- Action Buttons -->
            <div class="header-actions">
                <button 
                    id="add-course-btn" 
                    class="btn btn-primary"
                    aria-label="Add new course">
                    <span class="btn-icon">+</span>
                    <span class="btn-text">Add Course</span>
                </button>
            </div>
        </header>
        
        <!-- Main Content Area -->
        <main class="main-content">
            
            <!-- Search and Filter Bar -->
            <aside class="control-panel" role="search">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="search-input" 
                        class="search-input"
                        placeholder="Search courses..."
                        aria-label="Search courses by name or description">
       
                </div>
                
                <div class="filter-container">
                    <label class="filter-label">Filter:</label>
                    <div class="filter-buttons" role="group" aria-label="Course status filters">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                        <button class="filter-btn" data-filter="available">Available</button>
                        <button class="filter-btn" data-filter="locked">Locked</button>
                    </div>
                </div>
                
                <!-- Progress Indicator -->
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Progress:</span>
                        <span id="progress-text">0 / 0 (0%)</span>
                    </div>
                    <div class="progress-bar-container">
                        <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </aside>
            
            <!-- View Containers -->
            <section class="view-container">
                
                <!-- Graph View -->
                <div id="graph-view" class="view graph-view active" role="region" aria-label="Course dependency graph">
                    <div class="graph-controls">
                        <button id="graph-reset" class="control-btn" aria-label="Reset graph view">Reset</button>
                        <button id="graph-zoom-in" class="control-btn" aria-label="Zoom in">+</button>
                        <button id="graph-zoom-out" class="control-btn" aria-label="Zoom out">‚àí</button>
                    </div>
                    <div id="graph-container" class="graph-container"></div>
                    <div id="graph-empty" class="empty-state hidden">
                        <div class="empty-icon">üìö</div>
                        <h2>No Courses Yet</h2>
                        <p>Start building your learning path by adding your first course!</p>
                        <button class="btn btn-primary add-first-course">Add Your First Course</button>
                    </div>
                </div>
                
                <!-- Timeline View -->
                <div id="timeline-view" class="view timeline-view" role="region" aria-label="Course timeline">
                    <div id="timeline-container" class="timeline-container"></div>
                    <div id="timeline-empty" class="empty-state hidden">
                        <div class="empty-icon">üóìÔ∏è</div>
                        <h2>No Learning Path Yet</h2>
                        <p>Add courses with dependencies to see your recommended learning sequence.</p>
                        <button class="btn btn-primary add-first-course">Add Your First Course</button>
                    </div>
                </div>
                
                <!-- List View -->
                <div id="list-view" class="view list-view" role="region" aria-label="Course list">
                    <div id="list-container" class="list-container"></div>
                    <div id="list-empty" class="empty-state hidden">
                        <div class="empty-icon">üìù</div>
                        <h2>No Courses Found</h2>
                        <p>Try adjusting your search or filters, or add a new course to get started.</p>
                        <button class="btn btn-primary add-first-course">Add Course</button>
                    </div>
                </div>
                
            </section>
            
        </main>
        
        <!-- Course Detail Panel (Sliding Panel) -->
        <aside id="detail-panel" class="detail-panel" role="complementary" aria-label="Course details">
            <div class="panel-header">
                <h2 id="detail-title">Course Details</h2>
                <button id="detail-close" class="close-btn" aria-label="Close details panel">√ó</button>
            </div>
            <div class="panel-content">
                <div id="detail-content"></div>
            </div>
            <div class="panel-actions">
                <button id="detail-edit" class="btn btn-secondary">Edit</button>
                <button id="detail-delete" class="btn btn-danger">Delete</button>
            </div>
        </aside>
        
        <!-- Course Modal (Create/Edit) -->
        <div id="course-modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-modal="true">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title">Add New Course</h2>
                    <button id="modal-close" class="close-btn" aria-label="Close modal">√ó</button>
                </div>
                <form id="course-form" class="modal-body">
                    <div class="form-group">
                        <label for="course-name">Course Name <span class="required">*</span></label>
                        <input 
                            type="text" 
                            id="course-name" 
                            name="name" 
                            class="form-input"
                            required
                            aria-required="true"
                            aria-describedby="name-error">
                        <span id="name-error" class="error-message" role="alert"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="course-description">Description</label>
                        <textarea 
                            id="course-description" 
                            name="description" 
                            class="form-input"
                            rows="3"
                            aria-describedby="description-error"></textarea>
                        <span id="description-error" class="error-message" role="alert"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="course-dependencies">Dependencies</label>
                        <select 
                            id="course-dependencies" 
                            name="dependencies" 
                            class="form-input"
                            multiple
                            size="5"
                            aria-describedby="dependencies-help dependencies-error">
                        </select>
                        <span id="dependencies-help" class="help-text">Hold Ctrl/Cmd to select multiple courses</span>
                        <span id="dependencies-error" class="error-message" role="alert"></span>
                    </div>
                </form>
                <div class="modal-footer">
                    <button id="modal-cancel" class="btn btn-secondary">Cancel</button>
                    <button id="modal-submit" class="btn btn-primary">Save Course</button>
                </div>
            </div>
        </div>
        
        <!-- Toast Notification Container -->
        <div id="toast-container" class="toast-container" role="status" aria-live="polite" aria-atomic="true"></div>
        
        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
        
        <!-- Confirmation Dialog -->
        <div id="confirm-modal" class="modal" role="dialog" aria-labelledby="confirm-title" aria-modal="true">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-small">
                <div class="modal-header">
                    <h2 id="confirm-title">Confirm Action</h2>
                    <button id="confirm-close" class="close-btn" aria-label="Close confirmation">√ó</button>
                </div>
                <div class="modal-body">
                    <p id="confirm-message">Are you sure you want to proceed?</p>
                </div>
                <div class="modal-footer">
                    <button id="confirm-cancel" class="btn btn-secondary">Cancel</button>
                    <button id="confirm-ok" class="btn btn-danger">Confirm</button>
                </div>
            </div>
        </div>
        
        <!-- Keyboard Shortcuts Help -->
        <div id="shortcuts-modal" class="modal" role="dialog" aria-labelledby="shortcuts-title" aria-modal="true">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="shortcuts-title">Keyboard Shortcuts</h2>
                    <button class="close-btn shortcuts-close" aria-label="Close shortcuts">√ó</button>
                </div>
                <div class="modal-body shortcuts-body">
                    <div class="shortcuts-section">
                        <h3>Navigation</h3>
                        <dl class="shortcuts-list">
                            <dt><kbd>1</kbd></dt><dd>Switch to Graph View</dd>
                            <dt><kbd>2</kbd></dt><dd>Switch to Timeline View</dd>
                            <dt><kbd>3</kbd></dt><dd>Switch to List View</dd>
                            <dt><kbd>/</kbd></dt><dd>Focus Search</dd>
                            <dt><kbd>?</kbd></dt><dd>Show Shortcuts</dd>
                        </dl>
                    </div>
                    <div class="shortcuts-section">
                        <h3>Actions</h3>
                        <dl class="shortcuts-list">
                            <dt><kbd>n</kbd></dt><dd>New Course</dd>
                            <dt><kbd>Enter</kbd></dt><dd>Open Details</dd>
                            <dt><kbd>e</kbd></dt><dd>Edit Course</dd>
                            <dt><kbd>Delete</kbd></dt><dd>Delete Course</dd>
                            <dt><kbd>Space</kbd></dt><dd>Toggle Completion</dd>
                        </dl>
                    </div>
                    <div class="shortcuts-section">
                        <h3>General</h3>
                        <dl class="shortcuts-list">
                            <dt><kbd>Esc</kbd></dt><dd>Close Modal/Panel</dd>
                            <dt><kbd>Tab</kbd></dt><dd>Navigate Forward</dd>
                            <dt><kbd>Shift+Tab</kbd></dt><dd>Navigate Backward</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- Application JavaScript -->
    <script src="/static/app.js"></script>
</body>
</html>
